<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assessment Result</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/static/logo.png">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="header-bg">
    <div class="header-center">
        <div class="logo-title mt-2">DevOps Maturity Assessment</div>
        <img src="/static/logo.png" alt="DevOps Maturity Logo" height="100" class="logo-img">
    </div>
</div>
<div class="container bg-white p-4 rounded shadow-sm">
    <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
            <a class="nav-link" href="/">Assessment</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/assessments">All Assessments</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/submit">Last Assessment</a>
        </li>
    </ul>
    <h2 class="mb-4 text-center">Your DevOps Maturity Badge</h2>
    <div class="text-center">
        <img class="badge-img" src="{{ badge_url }}" alt="DevOps Maturity Badge">
    </div>
    <div>
        <strong>Markdown:</strong>
        <div class="input-group mb-2">
            <div class="form-control copy-box" id="copy-markdown">[![DevOps Maturity Badge]({{ badge_url }})](https://devops-maturity.github.io/)</div>
            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('copy-markdown')" aria-label="Copy Markdown code">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
                    <path d="M10 1.5v1h2A1.5 1.5 0 0 1 13.5 4v9A1.5 1.5 0 0 1 12 14.5h-8A1.5 1.5 0 0 1 2.5 13V4A1.5 1.5 0 0 1 4 2.5h2v-1A.5.5 0 0 1 6.5 1h3a.5.5 0 0 1 .5.5zM6 2v1h4V2H6z"/>
                </svg>
            </button>
        </div>
        <strong>reStructuredText:</strong>
        <div class="input-group mb-2">
            <div class="form-control copy-box" id="copy-rst">.. image:: {{ badge_url }}<br>&nbsp;&nbsp;:target: https://devops-maturity.github.io/<br>&nbsp;&nbsp;:alt: DevOps Maturity Badge</div>
            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('copy-rst')">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
                    <path d="M10 1.5v1h2A1.5 1.5 0 0 1 13.5 4v9A1.5 1.5 0 0 1 12 14.5h-8A1.5 1.5 0 0 1 2.5 13V4A1.5 1.5 0 0 1 4 2.5h2v-1A.5.5 0 0 1 6.5 1h3a.5.5 0 0 1 .5.5zM6 2v1h4V2H6z"/>
                </svg>
            </button>
        </div>
        <strong>HTML:</strong>
        <div class="input-group mb-2">
            <div class="form-control copy-box" id="copy-html">&lt;img src="{{ badge_url }}" alt="DevOps Maturity Badge"&gt;</div>
            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('copy-html')">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
                    <path d="M10 1.5v1h2A1.5 1.5 0 0 1 13.5 4v9A1.5 1.5 0 0 1 12 14.5h-8A1.5 1.5 0 0 1 2.5 13V4A1.5 1.5 0 0 1 4 2.5h2v-1A.5.5 0 0 1 6.5 1h3a.5.5 0 0 1 .5.5zM6 2v1h4V2H6z"/>
                </svg>
            </button>
        </div>
        <strong>AsciiDoc:</strong>
        <div class="input-group mb-2">
            <div class="form-control copy-box" id="copy-asciidoc">link:https://devops-maturity.github.io/[[.badge]#image:{{ badge_url }}[DevOps Maturity Badge]#]</div>
            <button class="btn btn-outline-secondary" type="button" onclick="copyToClipboard('copy-asciidoc')">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
                    <path d="M10 1.5v1h2A1.5 1.5 0 0 1 13.5 4v9A1.5 1.5 0 0 1 12 14.5h-8A1.5 1.5 0 0 1 2.5 13V4A1.5 1.5 0 0 1 4 2.5h2v-1A.5.5 0 0 1 6.5 1h3a.5.5 0 0 1 .5.5zM6 2v1h4V2H6z"/>
                </svg>
            </button>
        </div>
    </div>
</div>
<script>
function copyToClipboard(elementId) {
    const el = document.getElementById(elementId);
    // Remove <br> tags for reStructuredText
    let text = el.innerHTML.replace(/<br>/g, '\n').replace(/&nbsp;/g, ' ');
    // Use Clipboard API to copy text
    navigator.clipboard.writeText(text).then(() => {
        alert("Text copied to clipboard!");
    }).catch(err => {
        console.error("Failed to copy text: ", err);
        alert("Failed to copy text. Please try again.");
    });
}
</script>
</body>
</html>
